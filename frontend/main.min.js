"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const e=await navigator.serviceWorker.getRegistrations();for(const t of e)try{await t.unregister()}catch(e){}if(window.caches&&caches.keys)try{const e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}catch(e){}}catch(e){}});const themeToggleDarkIcon=document.getElementById("theme-toggle-dark-icon"),themeToggleLightIcon=document.getElementById("theme-toggle-light-icon"),mobileThemeToggleDarkIcon=document.getElementById("mobile-theme-toggle-dark-icon"),mobileThemeToggleLightIcon=document.getElementById("mobile-theme-toggle-light-icon");function toggleTheme(){themeToggleDarkIcon&&themeToggleDarkIcon.classList.toggle("hidden"),themeToggleLightIcon&&themeToggleLightIcon.classList.toggle("hidden"),mobileThemeToggleDarkIcon&&mobileThemeToggleDarkIcon.classList.toggle("hidden"),mobileThemeToggleLightIcon&&mobileThemeToggleLightIcon.classList.toggle("hidden"),localStorage.getItem("color-theme")?"light"===localStorage.getItem("color-theme")?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))}"dark"===localStorage.getItem("color-theme")||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),themeToggleLightIcon&&themeToggleLightIcon.classList.remove("hidden"),mobileThemeToggleLightIcon&&mobileThemeToggleLightIcon.classList.remove("hidden")):(document.documentElement.classList.remove("dark"),themeToggleDarkIcon&&themeToggleDarkIcon.classList.remove("hidden"),mobileThemeToggleDarkIcon&&mobileThemeToggleDarkIcon.classList.remove("hidden"));const themeToggleBtn=document.getElementById("theme-toggle"),mobileThemeToggleBtn=document.getElementById("mobile-theme-toggle");function tsSetupMobileMenu(){const e=document.getElementById("mobile-menu-button"),t=document.getElementById("mobile-menu");if(!e||!t)return;if(e._tsMenuBound)return;e._tsMenuBound=!0;e.addEventListener("click",function(o){o.preventDefault(),o.stopPropagation(),t.classList.toggle("hidden");const n=document.querySelector(".js-mobile-menu-open-icon"),c=document.querySelector(".js-mobile-menu-close-icon");n&&c&&(n.classList.toggle("hidden"),c.classList.toggle("hidden"));const l="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",String(!l))}),e.addEventListener("touchstart",function(){},{passive:!0})}function tsRunWhenReady(e){"loading"===document.readyState?(document.addEventListener("DOMContentLoaded",e,{once:!0}),window.addEventListener("load",e,{once:!0})):e()}themeToggleBtn&&themeToggleBtn.addEventListener("click",toggleTheme),mobileThemeToggleBtn&&mobileThemeToggleBtn.addEventListener("click",toggleTheme),tsRunWhenReady(tsSetupMobileMenu),function(){const e=document.getElementById("quote-slider");if(!e)return;const t=document.getElementById("quote-slider-prev"),o=document.getElementById("quote-slider-next");function n(){const t=e.querySelector("div.snap-center");return t?t.offsetWidth:e.clientWidth}function c(){const t=e.querySelectorAll("div.snap-center");if(window.innerWidth<768){let o=1/0,n=null;const c=e.getBoundingClientRect(),l=c.left+c.width/2;if(t.forEach(e=>{const t=e.getBoundingClientRect(),c=t.left+t.width/2,i=Math.abs(c-l);i<o&&(o=i,n=e),e.style.pointerEvents="none";const s=e.querySelector("a");s&&(s.style.pointerEvents="none")}),n){n.style.pointerEvents="auto";const e=n.querySelector("a");e&&(e.style.pointerEvents="auto")}t.forEach(t=>{if(t.removeEventListener("click",t._scrollToCenterHandler||(()=>{})),t!==n){const o=function(o){o.preventDefault();t.getBoundingClientRect(),e.getBoundingClientRect();const n=t.offsetLeft,c=t.offsetWidth,l=n-e.clientWidth/2+c/2;e.scrollTo({left:l,behavior:"smooth"})};t.addEventListener("click",o),t._scrollToCenterHandler=o}else t._scrollToCenterHandler=null})}else t.forEach(e=>{e.style.pointerEvents="auto";const t=e.querySelector("a");t&&(t.style.pointerEvents="auto"),e._scrollToCenterHandler&&(e.removeEventListener("click",e._scrollToCenterHandler),e._scrollToCenterHandler=null)})}const l=()=>{const n=e.scrollWidth-e.scrollLeft===e.clientWidth,l=0===e.scrollLeft;t&&(t.style.display=l?"none":"flex"),o&&(o.style.display=n?"none":"flex"),c()};e.addEventListener("scroll",l),o&&o.addEventListener("click",()=>{e.scrollBy({left:n(),behavior:"smooth"})}),t&&t.addEventListener("click",()=>{e.scrollBy({left:-n(),behavior:"smooth"})}),window.addEventListener("load",l),window.addEventListener("resize",l),c()}(),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".category-menu-list .has-dropdown");let t;e.forEach(function(o){const n=o.querySelector(".dropdown-menu"),c=o.querySelector("a");n&&c&&(o.addEventListener("mouseenter",function(){clearTimeout(t),e.forEach(function(e){e!==o&&e.classList.remove("active")}),o.classList.add("active")}),n.addEventListener("mouseenter",function(){clearTimeout(t),o.classList.add("active")}),o.addEventListener("mouseleave",function(e){const c=e.relatedTarget;c&&(n.contains(c)||o.contains(c))||(t=setTimeout(function(){o.classList.remove("active")},200))}),n.addEventListener("mouseleave",function(e){const n=e.relatedTarget;n&&o.contains(n)||(t=setTimeout(function(){o.classList.remove("active")},200))}),c.addEventListener("click",function(t){if(window.innerWidth<768){t.preventDefault();const n=o.classList.contains("active");e.forEach(function(e){e!==o&&e.classList.remove("active")}),o.classList.toggle("active",!n)}}))}),document.addEventListener("click",function(t){t.target.closest(".has-dropdown")||e.forEach(function(e){e.classList.remove("active")})}),window.addEventListener("resize",function(){e.forEach(function(e){e.classList.remove("active")})})});